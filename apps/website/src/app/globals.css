@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ============================================
       Custom Design System - Light Mode
       Source: apps/website/design/visual/color-system.md

       These CSS custom properties are the single source of truth for colors.
       They enable dark mode support and consistent theming throughout the app.
       All color values are defined in HSL format for better manipulation.

       See tailwind.config.ts for Tailwind utility class mappings.
       ============================================ */

    /* Foundation Colors */
    --background: 0 0% 98%; /* #FAFAFA canvas */
    --foreground: 220 13% 11%; /* #1A1A1A text-primary */
    --card: 0 0% 100%; /* #FFFFFF surface */
    --card-foreground: 220 13% 11%; /* #1A1A1A */
    --popover: 0 0% 100%;
    --popover-foreground: 220 13% 11%;

    /* Primary = Bright Red (Electric Modern) */
    --primary: 0 84% 60%; /* #EF4444 */
    --primary-foreground: 0 0% 100%; /* White text on red */

    /* Secondary = Cyan (Electric Modern) */
    --secondary: 189 94% 43%; /* #06B6D4 */
    --secondary-foreground: 0 0% 100%; /* White text on cyan */

    /* Muted = Light Gray for backgrounds */
    --muted: 220 13% 91%; /* #E5E7EB */
    --muted-foreground: 220 9% 46%; /* #6B7280 text-secondary */

    /* Accent = Lime (Electric Modern) */
    --accent: 84 81% 44%; /* #84CC16 */
    --accent-foreground: 0 0% 100%; /* White text on lime */

    /* Destructive = Error Red */
    --destructive: 0 84% 60%; /* #EF4444 */
    --destructive-foreground: 0 0% 100%;

    /* Borders & Inputs */
    --border: 220 13% 82%; /* #D1D5DB */
    --input: 220 13% 82%;
    --ring: 0 84% 60%; /* Bright Red for focus rings */

    /* Charts - Use our accent colors */
    --chart-1: 0 84% 60%; /* Bright Red */
    --chart-2: 189 94% 43%; /* Cyan */
    --chart-3: 84 81% 44%; /* Lime */
    --chart-4: 142 71% 45%; /* Success green */
    --chart-5: 24 95% 53%; /* Warning orange */

    /* Brand Theme Colors - Light Mode (for Tailwind compatibility) */
    --brand-light: 0 84% 94%; /* #FEE2E2 */
    --brand: 0 84% 60%; /* #EF4444 Bright Red */
    --brand-dark: 0 72% 51%; /* #DC2626 */

    --brand-secondary-light: 189 94% 91%; /* #CFFAFE */
    --brand-secondary: 189 94% 43%; /* #06B6D4 Cyan */
    --brand-secondary-dark: 189 85% 35%; /* #0891B2 */

    --highlight-light: 84 81% 88%; /* #ECFCCB */
    --highlight: 84 81% 44%; /* #84CC16 Lime */
    --highlight-dark: 84 65% 35%; /* #65A30D */

    /* Semantic Colors */
    --success-light: 142 71% 85%; /* #D1FAE5 */
    --success: 142 71% 45%; /* #10B981 */

    --error-light: 0 84% 94%; /* #FEE2E2 */
    --error: 0 84% 60%; /* #EF4444 */

    --warning-light: 45 93% 89%; /* #FEF3C7 */
    --warning: 24 95% 53%; /* #F59E0B */

    --info-light: 214 95% 93%; /* #DBEAFE */
    --info: 217 91% 60%; /* #3B82F6 */

    /* Text Colors */
    --text-primary: 220 13% 11%; /* #1A1A1A */
    --text-secondary: 220 9% 46%; /* #6B7280 */
    --text-tertiary: 220 6% 62%; /* #9CA3AF */

    /* Border Colors */
    --border-light: 220 13% 91%; /* #E5E7EB */
    --border-default: 220 13% 82%; /* #D1D5DB */

    /* Gradients - Subtle overlays */
    --gradient-brand-subtle: 0 84% 60% / 0.05; /* Subtle red tint */
    --gradient-brand-secondary-subtle: 189 94% 43% / 0.05; /* Subtle cyan tint */

    /* Structure Colors */
    --black: 0 0% 0%; /* #000000 */
    --black-accent: 0 0% 10%; /* #1A1A1A */

    --radius: 0.5rem;
  }

  .dark {
    /* ============================================
       Custom Design System - Dark Mode
       Source: apps/website/design/visual/color-system.md

       Dark mode values maintain visual hierarchy while adapting to
       low-light environments. Accent colors remain consistent with
       light mode for brand recognition.
       ============================================ */

    --background: 220 26% 6%; /* #0F1419 Dark blue-gray canvas */
    --foreground: 220 13% 91%; /* #E5E7EB Light text */
    --card: 220 21% 11%; /* #1A1F25 Dark card surface */
    --card-foreground: 220 13% 91%;
    --popover: 220 21% 11%;
    --popover-foreground: 220 13% 91%;

    /* Keep accent colors consistent in dark mode (Electric Modern) */
    --primary: 0 84% 60%; /* Bright Red stays bold */
    --primary-foreground: 0 0% 100%;
    --secondary: 189 94% 43%; /* Cyan stays bright */
    --secondary-foreground: 0 0% 100%;
    --muted: 220 21% 14%; /* Dark muted background */
    --muted-foreground: 220 9% 64%; /* Light muted text */
    --accent: 84 81% 44%; /* Lime stays vibrant */
    --accent-foreground: 220 13% 11%; /* Dark text on lime */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 21% 18%; /* Subtle dark border */
    --input: 220 21% 14%;
    --ring: 0 84% 60%;

    --chart-1: 0 84% 60%;
    --chart-2: 189 94% 43%;
    --chart-3: 84 81% 44%;
    --chart-4: 142 71% 45%;
    --chart-5: 24 95% 53%;

    /* Brand Theme Colors - Dark Mode (same accent colors) */
    --brand-light: 0 84% 94%; /* Keep light variant for rare cases */
    --brand: 0 84% 60%; /* #EF4444 Same bright red */
    --brand-dark: 0 72% 51%;

    --brand-secondary-light: 189 94% 91%;
    --brand-secondary: 189 94% 43%; /* #06B6D4 Same cyan */
    --brand-secondary-dark: 189 85% 35%;

    --highlight-light: 84 81% 88%;
    --highlight: 84 81% 44%; /* #84CC16 Same lime */
    --highlight-dark: 84 65% 35%;

    /* Semantic Colors (same as light mode) */
    --success-light: 142 71% 85%;
    --success: 142 71% 45%;

    --error-light: 0 84% 94%;
    --error: 0 84% 60%;

    --warning-light: 45 93% 89%;
    --warning: 24 95% 53%;

    --info-light: 214 95% 93%;
    --info: 217 91% 60%;

    /* Text Colors - Dark Mode */
    --text-primary: 220 13% 91%; /* #E5E7EB Light text */
    --text-secondary: 220 9% 64%; /* #9CA3AF Medium gray */
    --text-tertiary: 220 6% 52%; /* #6B7280 Dimmer text */

    /* Border Colors - Dark Mode */
    --border-light: 220 21% 18%; /* #2D333A Subtle border */
    --border-default: 220 21% 22%; /* #353B43 Default border */

    /* Gradients - Slightly more visible in dark mode */
    --gradient-brand-subtle: 0 84% 60% / 0.08; /* Subtle red glow */
    --gradient-brand-secondary-subtle: 189 94% 43% / 0.08; /* Subtle cyan glow */

    /* Structure Colors - Dark Mode */
    --black: 0 0% 100%; /* Invert to white */
    --black-accent: 220 13% 91%; /* Light accent */
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ============================================
   Polished Animations - Mobile-First
   Performance: GPU-accelerated (transform/opacity only)
   ============================================ */

@layer utilities {
  /* Button Animations */
  button,
  a[role="button"],
  .button {
    transition:
      transform 200ms ease-out,
      box-shadow 200ms ease-out;
  }

  button:hover,
  a[role="button"]:hover,
  .button:hover {
    transform: scale(1.02);
  }

  button:active,
  a[role="button"]:active,
  .button:active {
    transform: scale(0.98);
    transition-duration: 150ms;
  }

  /* Card Animations - Hover Lift */
  /* Target shadcn Card components and custom card containers */
  [data-card],
  .card {
    transition:
      transform 250ms ease-out,
      box-shadow 250ms ease-out;
  }

  [data-card]:hover,
  .card:hover {
    transform: translateY(-4px);
    box-shadow:
      0 10px 25px -5px rgb(0 0 0 / 0.15),
      0 8px 10px -6px rgb(0 0 0 / 0.1);
  }

  /* Input Focus Animations */
  input:not([type="checkbox"]):not([type="radio"]),
  textarea,
  select {
    transition:
      border-color 200ms ease-out,
      box-shadow 200ms ease-out;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: hsl(var(--ring));
    box-shadow: 0 0 0 3px hsl(var(--ring) / 0.1);
  }

  /* Staggered Fade-In on Page Load */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Apply to main sections - uses animation-fill-mode: backwards to handle initial state */
  main > * {
    animation: fadeInUp 600ms ease-out backwards;
  }

  main > *:nth-child(1) {
    animation-delay: 0ms;
  }
  main > *:nth-child(2) {
    animation-delay: 100ms;
  }
  main > *:nth-child(3) {
    animation-delay: 200ms;
  }
  main > *:nth-child(4) {
    animation-delay: 300ms;
  }
  main > *:nth-child(5) {
    animation-delay: 400ms;
  }
  main > *:nth-child(6) {
    animation-delay: 500ms;
  }
}

/* ============================================
   Accessibility: Respect User Preferences
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Ensure content is visible immediately */
  main > * {
    opacity: 1 !important;
    animation: none !important;
  }
}
